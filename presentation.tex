\documentclass[xcolor=svgnames,17pt]{beamer}

\usepackage[export]{adjustbox}
\usepackage{bashful}
\usepackage{bookmark}
\usepackage{colortbl} \arrayrulecolor[gray]{0.7}
\usepackage{microtype}
\usepackage{pgfpages}
\usepackage{rotating}
\usepackage{textcomp}
\usepackage{tabularx}
\usepackage{xspace}
\usepackage{verbatim}

\usepackage{fontspec}

\hypersetup{hidelinks,pdfpagemode=}

\urlstyle{same}

\newcommand*{\sizefont}[1]{%
    \ifcase#1\relax
    \or \tiny
    \or \scriptsize
    \or \footnotesize
    \or \small
    \or \normalsize
    \or \large
    \or \Large
    \or \LARGE
    \or \huge
    \or \Huge
    \fi}

%%

\newcommand*{\mybullet}{\tikz[baseline=-.6ex]\node[%
    draw,circle,inner sep = -0.15ex,fill]{.};\xspace}

%\setbeamertemplate{footline}{
%    \usebeamercolor[fg]{page number in head/foot}%
%    \usebeamerfont{page number in head/foot}%
%    \hspace*{1ex}\insertframenumber\,/\,\inserttotalframenumber\hfill
%    github.com/andrewdotn/...\ }

\newcommand*{\plainfooter}{%
    \setbeamertemplate{footline}{
        \usebeamercolor[fg]{page number in head/foot}%
        \usebeamerfont{page number in head/foot}%
        \hspace*{1ex}\insertframenumber\,/\,\inserttotalframenumber\vskip2pt}}

\makeatletter
\def\alphslide{\@alph{\intcalcAdd{1}{\intcalcSub{\thepage}{\beamer@framestartpage}}}}
\newcommand*{\plainstepfooter}{
    \setbeamertemplate{footline}{
        \usebeamercolor[fg]{page number in head/foot}%
        \usebeamerfont{page number in head/foot}%
        \hspace*{1ex}\insertframenumber\alphslide\,/\,\inserttotalframenumber\vskip2pt}}
\makeatother

\setbeamertemplate{note page}{
    \sizefont{3}
    \setlength{\parskip}{10pt}
    \insertnote
    \par}

\setbeamertemplate{navigation symbols}{}
\setbeamerfont{title}{size=\LARGE}
\setbeamerfont{frametitle}{size=\LARGE}
\setbeamerfont{framesubtitle}{size=\normalsize}

\newcommand*{\tocsection}[1]{\pdfbookmark[2]{#1}{#1}}

\lstdefinestyle{bashfulStdout}{
    basicstyle=\ttfamily,
    keywords={},
    showstringspaces=false
}%

%%

\title{Dates, times, \\ and timezones: \\ Python vs the real world}

\author{\texorpdfstring{%
    Andrew Neitsch}{Andrew Neitsch}}

\date{\small 2017-09-28}

\begin{document}

\tocsection{Title page}

\sizefont{4}

\begin{frame}[plain]
\titlepage
\end{frame}

\begin{frame}{Outline}
\tableofcontents
\end{frame}

\section{Introduction}

\def\fillinblank{\_\_\_\_}

\begin{frame}{Basic use cases for date and time computation}
\begin{itemize}
\item What time is it now?
\item What time is it in \fillinblank?
\item What time is here when itâ€™s \fillinblank in \fillinblank?
\item What does the date 9/10/11 mean?
\item How long ago did \fillinblank happen?
\item Remind me when \fillinblank is about to happen
\end{itemize}
\end{frame}

\section{Theory}

\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\begin{frame}{Dates and times for humans}

\begin{itemize}
\item Times
\item Dates
\item Time zones
\end{itemize}

\end{frame}

\begin{frame}{Times for humans}
\begin{itemize}
\item \alert{Times}

Pretty straightforward

Partition the day into regular intervals:

\only<2->{24 hours of 60 minutes of 60 seconds}
\item Dates
\item Time zones
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Dates for humans}
\begin{itemize}
\item Times
\item \alert{Dates}

\only<1-2>{Partition the day into \textit{irregular} intervals}

\only<2->{12 months of varying lengths}

\only<2->{Pattern depends on year}

\item Time zones
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Dates for humans}
\begin{itemize}
\item Times
\item \alert{Dates} \\
    Partition the day into \textit{irregular} intervals

    Root problem: \\
    365.24220 earth rotations per orbit of sun

\bash[stdout,script,prefix=$\space]
gfactor 365
\END

Not a convenient number, \\
so months of varying lengths

\item Time zones
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Dates for humans}
\begin{itemize}
\item Times
\item \alert{Dates}

    365.24220 earth rotations per orbit of sun

    Leap days to deal with the fractional part

{
\sizefont{2}
\bash[stdout]
echo '
3 / ((365 + 1/4 - 1/100 + 1/400) - 365.24220)
' | ./python-interpret
\END
}

\item Time zones
\end{itemize}
\end{frame}

\begin{frame}{Theoretical conclusions for humans}

\begin{itemize}
\item Times

Divided into regular intervals, \\
relatively straightforward

\item Dates

Divided into irregular intervals, \\
complicated but unchanging

\item Time zones

Super-complicated, arbitrary,
subject to change without notice

\end{itemize}

\end{frame}

\begin{frame}{Theoretical conclusions for humans}

\begin{itemize}
\item Times
\item Dates
\item Time zones
\end{itemize}

Unfortunately, times and dates are meaningless without time zones

Not much overlap between the workday for Australia and Vancouver

\end{frame}

\begin{frame}{Last completed frame}
\end{frame}

\begin{frame}[fragile]{Dates and times for humans}

\bash[stdout,script,prefix=$\space]
gfactor 365
\END

\end{frame}

\begin{frame}[fragile]{Time and Time Zones}

\bash[script,stdout,prefix=$\space]
date +%s
\END

\bash[stdout,prefix=$\space]
echo '1 + 1' | ./python-interpret
\END

\bash[stdout]
echo '
datetime.datetime.utcnow().strftime("%s")


datetime.datetime.now().strftime("%s")
' | ./python-interpret
\END

\end{frame}

\end{document}
